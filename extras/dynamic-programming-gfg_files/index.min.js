let template=document.createElement("template"),LAZY_LOAD_AHEAD=(template.innerHTML='<slot name = "carousel" ></slot>',2),GfgCarouselIntervalTime=document.currentScript.getAttribute("data-interval")||3e3,noZoom=document.currentScript?document.currentScript.getAttribute("no-zoom"):null,playicon='<svg aria-label="Play" fill="currentColor" height="20" width="20" role="img" viewBox="0 0 24 24"><title>Play</title><path d="M5.888 22.5a3.46 3.46 0 0 1-1.721-.46l-.003-.002a3.451 3.451 0 0 1-1.72-2.982V4.943a3.445 3.445 0 0 1 5.163-2.987l12.226 7.059a3.444 3.444 0 0 1-.001 5.967l-12.22 7.056a3.462 3.462 0 0 1-1.724.462Z"></path></svg>',pauseicon='<svg aria-label="Pause" fill="currentColor" height="20" width="20" role="img" viewBox="0 0 48 48"><title>Pause</title><path d="M15 1c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3zm18 0c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3z"></path></svg>',arrowlefticon=`<svg width="20" height="20" viewBox="-5.5 0 26 26" version="1.1" fill="currentColor">
    <title>Previous</title>
    <g stroke="none" stroke-width="1">
        <g sketch:type="MSLayerGroup" transform="translate(-423.000000, -1196.000000)" fill="currentColor">
            <path d="M428.115,1209 L437.371,1200.6 C438.202,1199.77 438.202,1198.43 437.371,1197.6 C436.541,1196.76 435.194,1196.76 434.363,1197.6 L423.596,1207.36 C423.146,1207.81 422.948,1208.41 422.985,1209 C422.948,1209.59 423.146,1210.19 423.596,1210.64 L434.363,1220.4 C435.194,1221.24 436.541,1221.24 437.371,1220.4 C438.202,1219.57 438.202,1218.23 437.371,1217.4 L428.115,1209" id="chevron-left" sketch:type="MSShapeGroup"></path>
        </g>
    </g>
</svg>
`,arrowrighticon=`<svg width="20" height="20" viewBox="-5.5 0 26 26" version="1.1" fill="currentColor">
    <title>Next</title>
    <g stroke="none" stroke-width="1">
        <g sketch:type="MSLayerGroup" transform="translate(-423.000000, -1196.000000)" fill="currentColor">
            <path d="M434.885,1209 L425.629,1200.6 C424.798,1199.77 424.798,1198.43 425.629,1197.6 C426.459,1196.76 427.806,1196.76 428.637,1197.6 L439.404,1207.36 C439.854,1207.81 440.052,1208.41 440.015,1209 C440.052,1209.59 439.854,1210.19 439.404,1210.64 L428.637,1220.4 C427.806,1221.24 426.459,1221.24 425.629,1220.4 C424.798,1219.57 424.798,1218.23 425.629,1217.4 L434.885,1209" id="chevron-right" sketch:type="MSShapeGroup"></path>
        </g>
    </g>
</svg>
`,closeicon='<svg aria-label="Close" fill="currentColor" viewBox="0 0 512 512" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" ><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"/></svg>';class GFGCarousel extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(template.content.cloneNode(!0)),this.clicked=!1,this.clickQueued=0,this.inc=1,this.paused=!0,this.pausedbyUser=!1,this.observerList=[]}async performTransitionEffect(s,i,r,a=!0,o=!1){s.forEach((e,t)=>{e.setAttribute("data-show",[i,r].includes(t)),e.style.position="absolute",e.style.top="0",e.style.width="100%"}),s[i].style.transform="translateX(0%)",s[r].style.transform=a?"translateX(100%)":"translateX(-100%)";let n=0,l=async()=>{var e,t;100<=n||(n+=(n,o?4:2),e=a?`translateX(${n}%)`:`translateX(-${n}%)`,t=a?`translateX(-${100-n}%)`:`translateX(${100-n}%)`,s[i].style.transform=e,s[r].style.transform=t,await new Promise(e=>setTimeout(e,1)),await l())};await l()}get_isPreview(){var e=this;return!e||!e.hasAttribute("no-preview")||"true"!==e.getAttribute("no-preview")}get_carousel_contents(){return this.querySelectorAll(".gfg-preview-carousel-content")}get_carousel(){return this.querySelector(".gfg-preview-carousel")}get_toolbar(){return this.querySelector(".gfg-preview-carousel-toolbar")}get_playpause_button(){return this.querySelector(".gfg-preview-carousel-playpause")}get_zoomin_wrapper(){return this.wrapper}_onChnageActiveIndex=async e=>{var t=this.get_carousel_contents();if(this.get_toolbar().querySelector(".gfg-preview-carousel-index-count").innerText=this.activeIndex+1+" / "+this.contentCount,0<=this.prevActiveIndex)try{await this.performTransitionEffect(t,this.prevActiveIndex,this.activeIndex,e,2<this.clickQueued)}catch{}t.forEach((e,t)=>{e.setAttribute("data-show",t===this.activeIndex)})};_onClick=async(e,t,s=!1)=>{!s&&3<this.clickQueued||(!s&&1<this.clickQueued&&!e?this.resetAutoplay(t):(s||(this.clickQueued+=1),this.clicked?setTimeout(()=>{this._onClick(e,t,!0)},100):(this.clicked=!0,e&&(e.stopPropagation(),this.paused||this.onClickPausePlay()),this.prevActiveIndex=this.activeIndex,this.activeIndex=(this.activeIndex+t+this.contentCount)%this.contentCount,await this._onChnageActiveIndex(t<0),this.clicked=!1,--this.clickQueued)))};autoplay=()=>{this._onClick(null,this.inc)};stopAutoPlay=()=>{clearInterval(this.timer)};startAutoPlay=()=>{this.timer=setInterval(this.autoplay,GfgCarouselIntervalTime),this.get_playpause_button().innerHTML=pauseicon};togglePausePlay=e=>{this.paused?(this.paused=!1,this.startAutoPlay()):(this.stopAutoPlay(),this.paused=!0),e&&e.stopPropagation()};resetAutoplay=e=>{this.stopAutoPlay(),this.inc=e,this.pausedbyUser||this.startAutoPlay()};onClickPausePlay=e=>{this.pausedbyUser=!this.paused,this.pausedbyUser?this.get_playpause_button().innerHTML=playicon:this.get_playpause_button().innerHTML=pauseicon,this.togglePausePlay(e)};onZoomInOrZoomOut=e=>{e&&!e.target.classList.contains("gfg-preview-carousel-img")&&!e.target.classList.contains("gfg-preview-carousel-zoom-in")||noZoom&&"false"!==noZoom||this.get_isPreview()&&(e.stopPropagation(),(e=this.querySelector(".gfg-preview-carousel-wrapper")).classList.contains("gfg-preview-carousel-zoom-in")?(e.classList.remove("gfg-preview-carousel-zoom-in"),e.removeEventListener("click",this.onZoomInOrZoomOut)):(e.classList.add("gfg-preview-carousel-zoom-in"),e.addEventListener("click",this.onZoomInOrZoomOut),this.get_playpause_button().style.cursor="pointer",this.get_toolbar().style.cursor="pointer"))};_perform_content_conversion=()=>{this.style.whiteSpace="unset",this.style.display="flex",this.contentCount=this.children.length,this.activeIndex=0;let o=document.createElement("div"),n=(o.classList.add("gfg-preview-carousel"),noZoom&&"false"!==noZoom&&(o.style.cursor="auto"),null),l=this.get_isPreview();Array.from(this.children).forEach((e,t)=>{var s=document.createElement("div"),i=(s.classList.add("gfg-preview-carousel-content"),s.dataset.show="false",document.createElement("div")),r=(i.classList.add("gfg-preview-carousel-content-wrapper"),document.createElement("img")),a=(r.classList.add("gfg-preview-carousel-img"),r.addEventListener("click",this.onZoomInOrZoomOut),l||(r.style.cursor="pointer"),e.getAttribute("src")),a=(n=n||a,r.src=n,r.dataset.src=a,r.alt=e.getAttribute("alt"),s.slot="content",s.dataset.index=t,r.cloneNode(!0));a.classList.add("bg"),i.appendChild(a),i.appendChild(r),s.appendChild(i),o.appendChild(s),e.remove()});var e=document.createElement("div"),t=(e.setAttribute("class","gfg-preview-carousel-toolbar"),e.innerHTML=`
        <span class="gfg-preview-carousel-left">${arrowlefticon}</span>
        <span class="gfg-preview-carousel-playpause">${playicon}</span>
        <span class="gfg-preview-carousel-right">${arrowrighticon}</span>
        <span class="gfg-preview-carousel-index-count"></span>
        `,document.createElement("div"));t.setAttribute("class","gfg-preview-carousel-wrapper"),t.appendChild(o),t.appendChild(e),this.appendChild(t),t.setAttribute("slot","carousel"),this._onChnageActiveIndex(),this.querySelector(".gfg-preview-carousel-left").addEventListener("click",e=>{this._onClick(e,-1)}),this.querySelector(".gfg-preview-carousel-right").addEventListener("click",e=>{this._onClick(e,1)}),this.get_playpause_button().addEventListener("click",this.onClickPausePlay),["mouseenter","mouseleave","touchstart","touchend"].forEach(e=>o.addEventListener(e,()=>{this.pausedbyUser||this.togglePausePlay()}))};_lazyLoadContent=(e,s)=>{let i=1e5,r=-1e5;e.forEach(e=>{var t=e.target.dataset.index;(e.isIntersecting||t>=i-LAZY_LOAD_AHEAD&&t<=r+LAZY_LOAD_AHEAD)&&(e.isIntersecting&&(i=Math.min(t,i),r=Math.max(t,r)),e.target.querySelectorAll("img").forEach(e=>{e.dataset.src&&(e.src=e.dataset.src)}),s.unobserve(e.target))})};_lazyAutoPlay=(e,t)=>{e.forEach(e=>{!(e.isIntersecting&&this.paused||!e.isIntersecting&&!this.paused)||this.paused&&this.pausedbyUser||this.togglePausePlay()})};_update_observer=()=>{var e={root:null,rootMargin:"10px",threshold:.1},t=this.get_carousel();new IntersectionObserver(this._lazyAutoPlay,e).observe(t);let s=new IntersectionObserver(this._lazyLoadContent,e);this.get_carousel_contents().forEach(e=>{s.observe(e)})};connectedCallback(){this._perform_content_conversion(),this._update_observer()}}customElements.define("gfg-carousel",GFGCarousel);